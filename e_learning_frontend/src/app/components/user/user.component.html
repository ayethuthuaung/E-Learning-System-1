<div class="user-profile" *ngIf="!isEditing; else editTemplate">
  <div class="profile-header">
    <img [src]="user.profilePicture" alt="{{user.name}}'s profile picture" class="profile-picture"/>
    <h2>{{ user.name }}</h2>
    <p class="email">{{ user.email }}</p>
    <button (click)="editProfile()">Edit Profile</button>
  </div>
  <div class="profile-body">
    <h3>Enrolled Courses</h3>
    <ul>
      <li *ngFor="let course of user.courses">
        <h4>{{ course.title }}</h4>
        <p>{{ course.description }}</p>
        <p>Instructor: {{ course.instructor }}</p>
      </li>
    </ul>
  </div>
</div>

<ng-template #editTemplate>
  <div class="edit-profile">
    <h2>Edit Profile</h2>
    <form (ngSubmit)="saveProfile()">
      <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" id="name" [(ngModel)]="editableUser.name" name="name" required />
      </div>
      <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" id="email" [(ngModel)]="editableUser.email" name="email" required />
      </div>
      <div class="form-group">
        <label for="profilePicture">Profile Picture URL:</label>
        <input type="text" id="profilePicture" [(ngModel)]="editableUser.profilePicture" name="profilePicture" />
      </div>
      <button type="submit">Save</button>
      <button type="button" (click)="cancelEdit()">Cancel</button>
    </form>
  </div>
</ng-template>
