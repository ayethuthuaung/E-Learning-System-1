<div class="flex justify-center">
  <div class="w-full lg:w-1/2 px-4">
    <h3 class="text-center text-lg font-bold mb-4">Update Course</h3>
    <hr class="my-2">
    <div class="bg-white shadow-md rounded-lg p-4">
      <form #courseForm="ngForm" (ngSubmit)="onSubmit(courseForm)">
        
        <div class="mb-4">
          <label for="courseId" class="block text-sm font-medium text-gray-700">Course ID</label>
          <input type="text" class="form-input mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" id="courseId" [(ngModel)]="course.id" name="courseId" readonly>
        </div>

        <div class="mb-4">
          <label for="courseName" class="block text-sm font-medium text-gray-700">Course Name</label>
          <input type="text"
                 class="form-input mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                 id="courseName"
                 [(ngModel)]="course.name"
                 name="courseName"
                 (input)="checkDuplicateCourseName()">
          <div *ngIf="courseForm.controls['courseName']?.errors?.['required'] && (courseForm.controls['courseName'].dirty || courseForm.controls['courseName'].touched)" class="text-red-500 text-sm mt-1">
            Course Name is required.
          </div>
          <div *ngIf="nameDuplicateError" class="text-red-500 text-sm mt-1">
            This course name already exists.
          </div>
        </div>

        <div class="mb-4">
          <label for="courseLevel" class="block text-sm font-medium text-gray-700">Course Level</label>
          <input type="text" class="form-input mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" id="courseLevel" [(ngModel)]="course.level" name="courseLevel">
        </div>

        <div class="mb-4">
          <label for="courseDuration" class="block text-sm font-medium text-gray-700">Course Duration</label>
          <input type="text" class="form-input mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" id="courseDuration" [(ngModel)]="course.duration" name="courseDuration">
        </div>

        <div class="mb-4">
          <label for="courseDescription" class="block text-sm font-medium text-gray-700">Course Description</label>
          <textarea class="form-textarea mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" id="courseDescription" [(ngModel)]="course.description" name="courseDescription"></textarea>
        </div>

        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700">Categories:</label>
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
            <ng-container *ngFor="let category of allCategories">
              <div class="flex items-center">
                <input class="form-checkbox h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded" 
                       type="checkbox" 
                       name="selectedCategories" 
                       (change)="onCategoryChange($event, category.id)"
                       [checked]="isChecked(category.id)">
                <label class="ml-2 block text-sm text-gray-800">{{ category.name }}</label>
              </div>
            </ng-container>
          </div>
        </div>

       
        <div class="mt-6">
          <button class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit" [disabled]="courseForm.invalid || nameDuplicateError">Submit</button>
        </div>

      </form>
    </div>
  </div>
</div>
