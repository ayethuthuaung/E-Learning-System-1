<!-- course-video-view.component.html -->

<nav class="absolute w-full top-0 left-0 h-screen z-50" [ngClass]="{'flex': isSidebarShowing, 'hidden': !isSidebarShowing}">
    <!-- Sidebar content -->
    <div class="bg-white w-full md:max-w-sm shadow-2xl">
        <!-- Close button -->
        <div class="flex justify-end p-5">
            <svg (click)="closeSideBar()" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                stroke-width="1.5" stroke="currentColor" class="w-8 h-8 cursor-pointer">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 19.5l15-15m-15 0l15 15" />
            </svg>
        </div>
        <!-- App components in sidebar -->
        <div class="mt-3">
            <app-phone></app-phone>
        </div>
        <div class="mt-3">
            <app-email></app-email>
        </div>
        <div class="mt-6">
            <app-auth-links></app-auth-links>
        </div>
        <div class="mt-6">
            <app-menu></app-menu>
        </div>
        <div class="mt-6">
            <app-social-links></app-social-links>
        </div>
    </div>
    <!-- Dark overlay to close sidebar -->
    <div (click)="closeSideBar()" class="bg-gray-900 hidden md:block md:w-full opacity-60"></div>
</nav>

<header class="absolute w-full z-40">
    <div class="px-3" [ngClass]="{'fixed top-0 w-full bg-white shadow-xl animate-slideInDown animate-faster': isMenuScrolled, 'pt-10': !isMenuScrolled}">
        <!-- Header content with logo, menu, and profile -->
        <div class="py-3 flex items-center justify-between container"
            [ngClass]="{'border': !isMenuScrolled, 'border-dark-blue rounded-xl': !isMenuScrolled}">
            <a href="">
                <img src="../assets/DAT.png" alt="" class="w-28 h-auto">
            </a>
            <div class="lg:hidden">
                <!-- Hamburger menu icon for mobile -->
                <svg (click)="openSideBar()" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                    stroke-width="1.5" stroke="currentColor" class="w-8 h-8 cursor-pointer">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                </svg>
            </div>
            <!-- Main menu and profile components -->
            <app-menu class="hidden lg:block"></app-menu>
            <app-nav-profile></app-nav-profile>
        </div>
    </div>
</header>

<button *ngIf="isMenuScrolled" (click)="scrollToTop()"
    class="flex text-white transition-all duration-300 fixed bottom-5 right-5 w-10 h-10 bg-logo-blue hover:bg-slate-800 rounded-full">
    <!-- Scroll to top button -->
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"
        class="w-6 h-6 m-auto">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" />
    </svg>
</button>

<div class="md:w-2/3 p-4 mt-40 mx-auto">
    <div class="bg-gray-50 p-4 rounded-lg shadow-md">
        <!-- Course details section -->
        <div *ngIf="course" class="flex items-center">
            <img [src]="course.photo" alt="Course Image" class="w-1/2 h-auto object-cover">
            <div class="ml-4">
                <h1 class="text-3xl font-bold text-logo-blue text-center">{{ course.name }}</h1>
                <p>{{ course.description }}</p>
                <!-- Course duration and level -->
                <div class="flex justify-between mt-4">
                    <div class="flex gap-1 items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5"
                            stroke="currentColor" class="w-5 h-5 text-logo-blue">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p>{{ course.duration }}</p>
                    </div>
                    <div class="flex gap-1 items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5"
                            stroke="currentColor" class="w-5 h-5 text-logo-blue">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" />
                        </svg>
                        <p>{{ course.level }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngFor="let lesson of lessons" class="mt-4">
    <!-- Lesson titles -->
    <h1 class="text-xl font-bold text-logo-blue">{{ lesson.title }}</h1>
</div>

<div class="flex-grow container mx-auto pt-48 flex justify-center items-center relative">
    <!-- Video player -->
    <video width="640" height="480" controls>
        <source [src]="module?.file" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</div>
